# ğŸ¯ Event Escapes - Major Events & More Cards Fix

## ğŸš¨ CRITICAL ISSUES TO FIX:

1. âŒ Only showing 2 cards per row â†’ Need 4-5 cards
2. âŒ Missing major music festivals (Coachella, Lollapalooza, etc.)
3. âŒ Missing big sports events (World Cup, NBA Finals, etc.)
4. âŒ Need to fetch TOP-TIER events specifically

---

## ğŸš€ COMPLETE REPLIT AGENT PROMPT

```
"Fix the Events page to show MAJOR events and more cards:

1. SHOW 4-5 CARDS PER ROW (not 2):
   
   Update the carousel container width:
   - Desktop: Show 4 cards (w-80 each, gap-6)
   - Tablet: Show 3 cards (w-72)
   - Mobile: Show 1 card (w-full)
   
   Change from:
   <div className="flex-shrink-0 w-80">
   
   To:
   <div className="flex-shrink-0 w-80 md:w-72 lg:w-80">
   
   And ensure container shows multiple cards:
   <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">

2. FETCH MAJOR MUSIC FESTIVALS SPECIFICALLY:
   
   Add dedicated API calls for major festivals using keyword search:
   
   ```typescript
   const fetchMajorFestivals = async () => {
     const apiKey = process.env.TICKETMASTER_API_KEY;
     const startDate = new Date();
     const endDate = new Date();
     endDate.setMonth(endDate.getMonth() + 12); // Next 12 months
     
     const festivals = [
       'Coachella',
       'Lollapalooza', 
       'Bonnaroo',
       'Electric Daisy Carnival',
       'Ultra Music Festival',
       'Tomorrowland',
       'Glastonbury',
       'Rolling Loud',
       'Austin City Limits',
       'Outside Lands',
       'Burning Man',
       'SXSW',
       'Firefly',
       'Governors Ball',
       'Primavera Sound'
     ];
     
     const allFestivalEvents = [];
     
     for (const festival of festivals) {
       try {
         const params = new URLSearchParams({
           apikey: apiKey,
           keyword: festival,
           size: '50',
           sort: 'date,asc',
           startDateTime: startDate.toISOString(),
           endDateTime: endDate.toISOString()
         });
         
         const response = await fetch(
           `https://app.ticketmaster.com/discovery/v2/events.json?${params}`
         );
         
         if (response.ok) {
           const data = await response.json();
           const events = data._embedded?.events || [];
           console.log(`Found ${events.length} events for ${festival}`);
           allFestivalEvents.push(...events);
         }
         
         await new Promise(resolve => setTimeout(resolve, 300));
       } catch (error) {
         console.error(`Error fetching ${festival}:`, error);
       }
     }
     
     return allFestivalEvents;
   };
   ```

3. FETCH MAJOR SPORTS EVENTS:
   
   ```typescript
   const fetchMajorSportsEvents = async () => {
     const apiKey = process.env.TICKETMASTER_API_KEY;
     const startDate = new Date();
     const endDate = new Date();
     endDate.setMonth(endDate.getMonth() + 12);
     
     const sportsEvents = [
       'NBA Finals',
       'Super Bowl',
       'World Series',
       'Stanley Cup',
       'World Cup',
       'UEFA Champions League',
       'Formula 1',
       'F1 Grand Prix',
       'Wimbledon',
       'US Open Tennis',
       'Masters Golf',
       'Kentucky Derby',
       'Indianapolis 500',
       'NCAA Final Four',
       'College Football Playoff',
       'Premier League',
       'UFC Championship',
       'Boxing Championship',
       'Olympics'
     ];
     
     const allSportsEvents = [];
     
     for (const sport of sportsEvents) {
       try {
         const params = new URLSearchParams({
           apikey: apiKey,
           keyword: sport,
           classificationName: 'Sports',
           size: '50',
           sort: 'relevance,desc', // Get most relevant first
           startDateTime: startDate.toISOString(),
           endDateTime: endDate.toISOString()
         });
         
         const response = await fetch(
           `https://app.ticketmaster.com/discovery/v2/events.json?${params}`
         );
         
         if (response.ok) {
           const data = await response.json();
           const events = data._embedded?.events || [];
           console.log(`Found ${events.length} events for ${sport}`);
           allSportsEvents.push(...events);
         }
         
         await new Promise(resolve => setTimeout(resolve, 300));
       } catch (error) {
         console.error(`Error fetching ${sport}:`, error);
       }
     }
     
     return allSportsEvents;
   };
   ```

4. FETCH MAJOR CONCERT TOURS:
   
   ```typescript
   const fetchMajorTours = async () => {
     const apiKey = process.env.TICKETMASTER_API_KEY;
     const startDate = new Date();
     const endDate = new Date();
     endDate.setMonth(endDate.getMonth() + 12);
     
     const tours = [
       'Taylor Swift',
       'Beyonce',
       'Drake',
       'The Weeknd',
       'Bad Bunny',
       'Ed Sheeran',
       'Coldplay',
       'Billie Eilish',
       'Post Malone',
       'Imagine Dragons',
       'Bruno Mars',
       'Adele',
       'Harry Styles',
       'Justin Bieber',
       'Rihanna',
       'Metallica',
       'Red Hot Chili Peppers',
       'Foo Fighters',
       'Pearl Jam'
     ];
     
     const allTourEvents = [];
     
     for (const artist of tours) {
       try {
         const params = new URLSearchParams({
           apikey: apiKey,
           keyword: artist,
           classificationName: 'Music',
           size: '50',
           sort: 'date,asc',
           startDateTime: startDate.toISOString(),
           endDateTime: endDate.toISOString()
         });
         
         const response = await fetch(
           `https://app.ticketmaster.com/discovery/v2/events.json?${params}`
         );
         
         if (response.ok) {
           const data = await response.json();
           const events = data._embedded?.events || [];
           console.log(`Found ${events.length} ${artist} tour dates`);
           allTourEvents.push(...events);
         }
         
         await new Promise(resolve => setTimeout(resolve, 300));
       } catch (error) {
         console.error(`Error fetching ${artist}:`, error);
       }
     }
     
     return allTourEvents;
   };
   ```

5. COMBINE ALL EVENTS WITH PRIORITY:
   
   ```typescript
   const fetchAllEvents = async () => {
     setLoading(true);
     console.log('Starting comprehensive event fetch...');
     
     try {
       // Fetch all event types in parallel
       const [festivals, sports, tours, general] = await Promise.all([
         fetchMajorFestivals(),
         fetchMajorSportsEvents(),
         fetchMajorTours(),
         fetchGeneralEvents() // Your existing function
       ]);
       
       console.log(`Festivals: ${festivals.length}`);
       console.log(`Sports: ${sports.length}`);
       console.log(`Tours: ${tours.length}`);
       console.log(`General: ${general.length}`);
       
       // Combine all events
       const allEvents = [...festivals, ...sports, ...tours, ...general];
       
       // Remove duplicates by event ID
       const uniqueEvents = Array.from(
         new Map(allEvents.map(event => [event.id, event])).values()
       );
       
       console.log(`Total unique events: ${uniqueEvents.length}`);
       
       // Sort by date
       const sortedEvents = uniqueEvents.sort((a, b) => {
         const dateA = new Date(a.dates?.start?.dateTime || a.dates?.start?.localDate);
         const dateB = new Date(b.dates?.start?.dateTime || b.dates?.start?.localDate);
         return dateA - dateB;
       });
       
       setEvents(sortedEvents);
     } catch (error) {
       console.error('Error fetching events:', error);
     } finally {
       setLoading(false);
     }
   };
   ```

6. UPDATE CARD DISPLAY - SHOW 4-5 CARDS:
   
   Instead of carousel, use grid that shows multiple cards:
   
   ```tsx
   function EventsSection({ title, events, icon }) {
     const [currentPage, setCurrentPage] = useState(0);
     const cardsPerPage = 5; // Show 5 cards at a time
     
     const totalPages = Math.ceil(events.length / cardsPerPage);
     const currentEvents = events.slice(
       currentPage * cardsPerPage,
       (currentPage + 1) * cardsPerPage
     );
     
     // Auto-advance page every 8 seconds
     useEffect(() => {
       const interval = setInterval(() => {
         setCurrentPage((prev) => (prev + 1) % totalPages);
       }, 8000);
       
       return () => clearInterval(interval);
     }, [totalPages]);
     
     return (
       <div className="mb-12">
         <div className="flex items-center justify-between mb-6">
           <div className="flex items-center gap-3">
             <span className="text-4xl">{icon}</span>
             <h2 className="text-3xl font-bold text-white">{title}</h2>
             <span className="text-gray-400">({events.length} events)</span>
           </div>
           
           <div className="flex gap-2">
             <button
               onClick={() => setCurrentPage((prev) => Math.max(0, prev - 1))}
               disabled={currentPage === 0}
               className="p-3 bg-gray-800 rounded-full hover:bg-gray-700 disabled:opacity-50"
             >
               â†
             </button>
             <button
               onClick={() => setCurrentPage((prev) => Math.min(totalPages - 1, prev + 1))}
               disabled={currentPage === totalPages - 1}
               className="p-3 bg-gray-800 rounded-full hover:bg-gray-700 disabled:opacity-50"
             >
               â†’
             </button>
           </div>
         </div>
         
         {/* Grid showing 5 cards */}
         <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
           {currentEvents.map((event, index) => (
             <div 
               key={event.id}
               className="animate-fadeIn"
               style={{ animationDelay: `${index * 100}ms` }}
             >
               <EventCard event={event} />
             </div>
           ))}
         </div>
         
         {/* Page indicators */}
         <div className="flex justify-center gap-2 mt-6">
           {Array.from({ length: totalPages }).map((_, i) => (
             <button
               key={i}
               onClick={() => setCurrentPage(i)}
               className={`h-2 rounded-full transition-all ${
                 i === currentPage 
                   ? 'w-8 bg-purple-600' 
                   : 'w-2 bg-gray-600 hover:bg-gray-500'
               }`}
             />
           ))}
         </div>
       </div>
     );
   }
   ```

7. PRIORITIZE MAJOR EVENTS IN CATEGORIES:
   
   When categorizing, prioritize major events:
   
   ```typescript
   const categorizeEvents = (events) => {
     const categories = {
       festivals: [],
       majorSports: [],
       concerts: [],
       sports: [],
       music: [],
       theatre: [],
       other: []
     };
     
     events.forEach(event => {
       const name = event.name.toLowerCase();
       const segment = event.classifications?.[0]?.segment?.name?.toLowerCase();
       
       // Check for major festivals
       const festivalKeywords = ['coachella', 'lollapalooza', 'bonnaroo', 'festival', 'fest'];
       if (festivalKeywords.some(keyword => name.includes(keyword))) {
         categories.festivals.push(event);
         return;
       }
       
       // Check for major sports
       const majorSportsKeywords = ['finals', 'championship', 'world cup', 'super bowl', 'world series', 'grand prix', 'f1'];
       if (majorSportsKeywords.some(keyword => name.includes(keyword))) {
         categories.majorSports.push(event);
         return;
       }
       
       // Check for concert tours
       if (segment?.includes('music') || segment?.includes('concert')) {
         categories.concerts.push(event);
         return;
       }
       
       // Regular categorization
       if (segment?.includes('sport')) {
         categories.sports.push(event);
       } else if (segment?.includes('music')) {
         categories.music.push(event);
       } else if (segment?.includes('theatre') || segment?.includes('arts')) {
         categories.theatre.push(event);
       } else {
         categories.other.push(event);
       }
     });
     
     return categories;
   };
   ```

8. DISPLAY ORDER - MAJOR EVENTS FIRST:
   
   ```tsx
   return (
     <div className="min-h-screen bg-black py-12">
       <div className="max-w-[1600px] mx-auto px-6">
         <HeroSection />
         
         {loading ? (
           <LoadingSkeleton />
         ) : (
           <>
             {/* Major Festivals First */}
             {categorized.festivals.length > 0 && (
               <EventsSection 
                 title="ğŸª Major Music Festivals" 
                 events={categorized.festivals}
                 icon="ğŸª"
               />
             )}
             
             {/* Major Sports Events */}
             {categorized.majorSports.length > 0 && (
               <EventsSection 
                 title="ğŸ† Championship Sports" 
                 events={categorized.majorSports}
                 icon="ğŸ†"
               />
             )}
             
             {/* Concert Tours */}
             {categorized.concerts.length > 0 && (
               <EventsSection 
                 title="ğŸ¤ Concert Tours" 
                 events={categorized.concerts}
                 icon="ğŸ¤"
               />
             )}
             
             {/* Regular Categories */}
             {categorized.sports.length > 0 && (
               <EventsSection 
                 title="âš½ Sports Events" 
                 events={categorized.sports}
                 icon="âš½"
               />
             )}
             
             {categorized.music.length > 0 && (
               <EventsSection 
                 title="ğŸµ Music & Concerts" 
                 events={categorized.music}
                 icon="ğŸµ"
               />
             )}
           </>
         )}
       </div>
     </div>
   );
   ```

CRITICAL: Make these changes to show 4-5 cards per row and fetch all major festivals, sports championships, and concert tours. This will give users a much better experience with more visible options and bigger events."
```

---

## ğŸ“Š EXPECTED RESULTS:

### **Before:**
- 2 cards per row âŒ
- Random small events âŒ
- No major festivals âŒ
- Limited selection âŒ

### **After:**
- **4-5 cards per row** âœ…
- **Major festivals** (Coachella, Lollapalooza, etc.) âœ…
- **Big sports** (NBA Finals, World Cup, F1, etc.) âœ…
- **Concert tours** (Taylor Swift, Drake, etc.) âœ…
- **1000+ events** total âœ…

---

## ğŸ¯ WHAT THIS WILL FETCH:

### **Music Festivals (15 major ones):**
- Coachella
- Lollapalooza
- Bonnaroo
- Electric Daisy Carnival
- Ultra Music Festival
- Rolling Loud
- Austin City Limits
- Outside Lands
- Governors Ball
- And more...

### **Major Sports (18 types):**
- NBA Finals
- Super Bowl
- World Series
- Formula 1
- World Cup
- UFC Championships
- And more...

### **Concert Tours (19 major artists):**
- Taylor Swift
- Drake
- Beyonce
- The Weeknd
- Bad Bunny
- And more...

---

## ğŸ¨ VISUAL LAYOUT:

```
Desktop (1920px):
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚  1  â”‚  2  â”‚  3  â”‚  4  â”‚  5  â”‚  â† 5 cards visible
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜

Laptop (1440px):
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚  1  â”‚  2  â”‚  3  â”‚  4  â”‚  â† 4 cards visible
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜

Tablet (768px):
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚  1  â”‚  2  â”‚  3  â”‚  â† 3 cards visible
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜

Mobile (375px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     1     â”‚  â† 1 card visible
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â±ï¸ FETCH TIME:

**Total API Calls:** ~52 calls
- 15 festivals
- 18 sports keywords
- 19 artists
= ~15 minutes total (with 300ms delay between calls)

**Show loading progress:**
```tsx
const [fetchProgress, setFetchProgress] = useState(0);

// Update progress during fetch
setFetchProgress(Math.round((completed / total) * 100));

// Show in UI
<div className="text-center py-12">
  <div className="text-white text-xl mb-4">
    Loading amazing events... {fetchProgress}%
  </div>
  <div className="w-64 h-2 bg-gray-800 rounded-full mx-auto overflow-hidden">
    <div 
      className="h-full bg-gradient-to-r from-purple-600 to-pink-600 transition-all duration-300"
      style={{ width: `${fetchProgress}%` }}
    />
  </div>
</div>
```

---

**Give this to Replit Agent to implement! This will show 4-5 cards and fetch all the major events! ğŸ‰**